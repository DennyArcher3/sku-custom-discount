(()=>{var wt=Object.create;var ce=Object.defineProperty,Ct=Object.defineProperties,Et=Object.getOwnPropertyDescriptor,Pt=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertyNames,$e=Object.getOwnPropertySymbols,$t=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable;var Ie=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&Ie(e,n,t[n]);if($e)for(var n of $e(t))It.call(t,n)&&Ie(e,n,t[n]);return e},O=(e,t)=>Ct(e,Pt(t));var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tt(t))!Re.call(e,o)&&o!==n&&ce(e,o,{get:()=>t[o],enumerable:!(r=Et(t,o))||r.enumerable});return e};var Ue=(e,t,n)=>(n=e!=null?wt($t(e)):{},Rt(t||!e||!e.__esModule?ce(n,"default",{value:e,enumerable:!0}):n,e));var X=(e,t,n)=>new Promise((r,o)=>{var s=c=>{try{l(n.next(c))}catch(a){o(a)}},u=c=>{try{l(n.throw(c))}catch(a){o(a)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,u);l((n=n.apply(e,t)).next())});var mt=Q(m=>{"use strict";var J=Symbol.for("react.element"),Bt=Symbol.for("react.portal"),Wt=Symbol.for("react.fragment"),Kt=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),Jt=Symbol.for("react.provider"),Gt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Xt=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),st=Symbol.iterator;function en(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var ut={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,lt={};function W(e,t,n){this.props=e,this.context=t,this.refs=lt,this.updater=n||ut}W.prototype.isReactComponent={};W.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};W.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ct(){}ct.prototype=W.prototype;function we(e,t,n){this.props=e,this.context=t,this.refs=lt,this.updater=n||ut}var Ce=we.prototype=new ct;Ce.constructor=we;at(Ce,W.prototype);Ce.isPureReactComponent=!0;var it=Array.isArray,ft=Object.prototype.hasOwnProperty,Ee={current:null},pt={key:!0,ref:!0,__self:!0,__source:!0};function dt(e,t,n){var r,o={},s=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)ft.call(t,r)&&!pt.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),a=0;a<l;a++)c[a]=arguments[a+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:J,type:e,key:s,ref:u,props:o,_owner:Ee.current}}function tn(e,t){return{$$typeof:J,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pe(e){return typeof e=="object"&&e!==null&&e.$$typeof===J}function nn(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _t=/\/+/g;function xe(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nn(""+e.key):t.toString(36)}function ue(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case J:case Bt:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+xe(u,0):r,it(o)?(n="",e!=null&&(n=e.replace(_t,"$&/")+"/"),ue(o,t,n,"",function(a){return a})):o!=null&&(Pe(o)&&(o=tn(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_t,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",it(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+xe(s,l);u+=ue(s,t,n,c,o)}else if(c=en(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+xe(s,l++),u+=ue(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function _e(e,t,n){if(e==null)return e;var r=[],o=0;return ue(e,r,"","",function(s){return t.call(n,s,o++)}),r}function rn(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P={current:null},ae={transition:null},on={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Ee};function ht(){throw Error("act(...) is not supported in production builds of React.")}m.Children={map:_e,forEach:function(e,t,n){_e(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _e(e,function(){t++}),t},toArray:function(e){return _e(e,function(t){return t})||[]},only:function(e){if(!Pe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};m.Component=W;m.Fragment=Wt;m.Profiler=zt;m.PureComponent=we;m.StrictMode=Kt;m.Suspense=Qt;m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=on;m.act=ht;m.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=at({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=Ee.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ft.call(t,c)&&!pt.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var a=0;a<c;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:J,type:e.type,key:o,ref:s,props:r,_owner:u}};m.createContext=function(e){return e={$$typeof:Gt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jt,_context:e},e.Consumer=e};m.createElement=dt;m.createFactory=function(e){var t=dt.bind(null,e);return t.type=e,t};m.createRef=function(){return{current:null}};m.forwardRef=function(e){return{$$typeof:Yt,render:e}};m.isValidElement=Pe;m.lazy=function(e){return{$$typeof:Zt,_payload:{_status:-1,_result:e},_init:rn}};m.memo=function(e,t){return{$$typeof:Xt,type:e,compare:t===void 0?null:t}};m.startTransition=function(e){var t=ae.transition;ae.transition={};try{e()}finally{ae.transition=t}};m.unstable_act=ht;m.useCallback=function(e,t){return P.current.useCallback(e,t)};m.useContext=function(e){return P.current.useContext(e)};m.useDebugValue=function(){};m.useDeferredValue=function(e){return P.current.useDeferredValue(e)};m.useEffect=function(e,t){return P.current.useEffect(e,t)};m.useId=function(){return P.current.useId()};m.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)};m.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)};m.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)};m.useMemo=function(e,t){return P.current.useMemo(e,t)};m.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)};m.useRef=function(e){return P.current.useRef(e)};m.useState=function(e){return P.current.useState(e)};m.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)};m.useTransition=function(){return P.current.useTransition()};m.version="18.3.1"});var vt=Q((gn,yt)=>{"use strict";yt.exports=mt()});var gt=Q(le=>{"use strict";var sn=vt(),_n=Symbol.for("react.element"),un=Symbol.for("react.fragment"),an=Object.prototype.hasOwnProperty,ln=sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cn={key:!0,ref:!0,__self:!0,__source:!0};function bt(e,t,n){var r,o={},s=null,u=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)an.call(t,r)&&!cn.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:_n,type:e,key:s,ref:u,props:o,_owner:ln.current}}le.Fragment=un;le.jsx=bt;le.jsxs=bt});var Te=Q((Sn,kt)=>{"use strict";kt.exports=gt()});var re,k,Me,Ut,L,De,He,je,Oe,he,fe,pe,Dt,z={},Le=[],Nt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function A(e,t){for(var n in t)e[n]=t[n];return e}function me(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ft(e,t,n){var r,o,s,u={};for(s in t)s=="key"?r=t[s]:s=="ref"?o=t[s]:u[s]=t[s];if(arguments.length>2&&(u.children=arguments.length>3?re.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)u[s]===void 0&&(u[s]=e.defaultProps[s]);return ee(e,u,r,o,null)}function ee(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o==null?++Me:o,__i:-1,__u:0};return o==null&&k.vnode!=null&&k.vnode(s),s}function se(e){return e.children}function te(e,t){this.props=e,this.context=t}function B(e,t){if(t==null)return e.__?B(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?B(e):null}function Ve(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ve(e)}}function Ne(e){(!e.__d&&(e.__d=!0)&&L.push(e)&&!ne.__r++||De!=k.debounceRendering)&&((De=k.debounceRendering)||He)(ne)}function ne(){for(var e,t,n,r,o,s,u,l=1;L.length;)L.length>l&&L.sort(je),e=L.shift(),l=L.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,s=[],u=[],t.__P&&((n=A({},r)).__v=r.__v+1,k.vnode&&k.vnode(n),ye(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,s,o==null?B(r):o,!!(32&r.__u),u),n.__v=r.__v,n.__.__k[n.__i]=n,We(s,n,u),n.__e!=o&&Ve(n)));ne.__r=0}function qe(e,t,n,r,o,s,u,l,c,a,p){var i,y,d,x,$,w,b=r&&r.__k||Le,g=t.length;for(c=At(n,t,b,c,g),i=0;i<g;i++)(d=n.__k[i])!=null&&(y=d.__i==-1?z:b[d.__i]||z,d.__i=i,w=ye(e,d,y,o,s,u,l,c,a,p),x=d.__e,d.ref&&y.ref!=d.ref&&(y.ref&&ve(y.ref,null,d),p.push(d.ref,d.__c||x,d)),$==null&&x!=null&&($=x),4&d.__u||y.__k===d.__k?c=Be(d,c,e):typeof d.type=="function"&&w!==void 0?c=w:x&&(c=x.nextSibling),d.__u&=-7);return n.__e=$,c}function At(e,t,n,r,o){var s,u,l,c,a,p=n.length,i=p,y=0;for(e.__k=new Array(o),s=0;s<o;s++)(u=t[s])!=null&&typeof u!="boolean"&&typeof u!="function"?(c=s+y,(u=e.__k[s]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?ee(null,u,null,null,null):oe(u)?ee(se,{children:u},null,null,null):u.constructor==null&&u.__b>0?ee(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,l=null,(a=u.__i=Mt(u,n,c,i))!=-1&&(i--,(l=n[a])&&(l.__u|=2)),l==null||l.__v==null?(a==-1&&(o>p?y--:o<p&&y++),typeof u.type!="function"&&(u.__u|=4)):a!=c&&(a==c-1?y--:a==c+1?y++:(a>c?y--:y++,u.__u|=4))):e.__k[s]=null;if(i)for(s=0;s<p;s++)(l=n[s])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=B(l)),ze(l,l));return r}function Be(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Be(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=B(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Mt(e,t,n,r){var o,s,u,l=e.key,c=e.type,a=t[n],p=a!=null&&(2&a.__u)==0;if(a===null&&e.key==null||p&&l==a.key&&c==a.type)return n;if(r>(p?1:0)){for(o=n-1,s=n+1;o>=0||s<t.length;)if((a=t[u=o>=0?o--:s++])!=null&&(2&a.__u)==0&&l==a.key&&c==a.type)return u}return-1}function Fe(e,t,n){t[0]=="-"?e.setProperty(t,n==null?"":n):e[t]=n==null?"":typeof n!="number"||Nt.test(t)?n:n+"px"}function Z(e,t,n,r,o){var s,u;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Fe(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Fe(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Oe,"$1")),u=t.toLowerCase(),t=u in e||t=="onFocusOut"||t=="onFocusIn"?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=he,e.addEventListener(t,s?pe:fe,s)):e.removeEventListener(t,s?pe:fe,s);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n==null?"":n;break e}catch(l){}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ae(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=he++;else if(t.t<n.u)return;return n(k.event?k.event(t):t)}}}function ye(e,t,n,r,o,s,u,l,c,a){var p,i,y,d,x,$,w,b,g,H,D,F,I,G,V,f,v,h=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),s=[l=t.__e=n.__e]),(p=k.__b)&&p(t);e:if(typeof h=="function")try{if(b=t.props,g="prototype"in h&&h.prototype.render,H=(p=h.contextType)&&r[p.__c],D=p?H?H.props.value:p.__:r,n.__c?w=(i=t.__c=n.__c).__=i.__E:(g?t.__c=i=new h(b,D):(t.__c=i=new te(b,D),i.constructor=h,i.render=jt),H&&H.sub(i),i.props=b,i.state||(i.state={}),i.context=D,i.__n=r,y=i.__d=!0,i.__h=[],i._sb=[]),g&&i.__s==null&&(i.__s=i.state),g&&h.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=A({},i.__s)),A(i.__s,h.getDerivedStateFromProps(b,i.__s))),d=i.props,x=i.state,i.__v=t,y)g&&h.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),g&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(g&&h.getDerivedStateFromProps==null&&b!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(b,D),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(b,i.__s,D)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(i.props=b,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(S){S&&(S.__=t)}),F=0;F<i._sb.length;F++)i.__h.push(i._sb[F]);i._sb=[],i.__h.length&&u.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(b,i.__s,D),g&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,x,$)})}if(i.context=D,i.props=b,i.__P=e,i.__e=!1,I=k.__r,G=0,g){for(i.state=i.__s,i.__d=!1,I&&I(t),p=i.render(i.props,i.state,i.context),V=0;V<i._sb.length;V++)i.__h.push(i._sb[V]);i._sb=[]}else do i.__d=!1,I&&I(t),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++G<25);i.state=i.__s,i.getChildContext!=null&&(r=A(A({},r),i.getChildContext())),g&&!y&&i.getSnapshotBeforeUpdate!=null&&($=i.getSnapshotBeforeUpdate(d,x)),f=p,p!=null&&p.type===se&&p.key==null&&(f=Ke(p.props.children)),l=qe(e,oe(f)?f:[f],t,n,r,o,s,u,l,c,a),i.base=t.__e,t.__u&=-161,i.__h.length&&u.push(i),w&&(i.__E=i.__=null)}catch(S){if(t.__v=null,c||s!=null)if(S.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,t.__e=l}else{for(v=s.length;v--;)me(s[v]);de(t)}else t.__e=n.__e,t.__k=n.__k,S.then||de(t);k.__e(S,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Ht(n.__e,t,n,r,o,s,u,c,a);return(p=k.diffed)&&p(t),128&t.__u?void 0:l}function de(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(de)}function We(e,t,n){for(var r=0;r<n.length;r++)ve(n[r],n[++r],n[++r]);k.__c&&k.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){k.__e(s,o.__v)}})}function Ke(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:oe(e)?e.map(Ke):A({},e)}function Ht(e,t,n,r,o,s,u,l,c){var a,p,i,y,d,x,$,w=n.props,b=t.props,g=t.type;if(g=="svg"?o="http://www.w3.org/2000/svg":g=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(a=0;a<s.length;a++)if((d=s[a])&&"setAttribute"in d==!!g&&(g?d.localName==g:d.nodeType==3)){e=d,s[a]=null;break}}if(e==null){if(g==null)return document.createTextNode(b);e=document.createElementNS(o,g,b.is&&b),l&&(k.__m&&k.__m(t,s),l=!1),s=null}if(g==null)w===b||l&&e.data==b||(e.data=b);else{if(s=s&&re.call(e.childNodes),w=n.props||z,!l&&s!=null)for(w={},a=0;a<e.attributes.length;a++)w[(d=e.attributes[a]).name]=d.value;for(a in w)if(d=w[a],a!="children"){if(a=="dangerouslySetInnerHTML")i=d;else if(!(a in b)){if(a=="value"&&"defaultValue"in b||a=="checked"&&"defaultChecked"in b)continue;Z(e,a,null,d,o)}}for(a in b)d=b[a],a=="children"?y=d:a=="dangerouslySetInnerHTML"?p=d:a=="value"?x=d:a=="checked"?$=d:l&&typeof d!="function"||w[a]===d||Z(e,a,d,w[a],o);if(p)l||i&&(p.__html==i.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(i&&(e.innerHTML=""),qe(t.type=="template"?e.content:e,oe(y)?y:[y],t,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,u,s?s[0]:n.__k&&B(n,0),l,c),s!=null)for(a=s.length;a--;)me(s[a]);l||(a="value",g=="progress"&&x==null?e.removeAttribute("value"):x!=null&&(x!==e[a]||g=="progress"&&!x||g=="option"&&x!=w[a])&&Z(e,a,x,w[a],o),a="checked",$!=null&&$!=e[a]&&Z(e,a,$,w[a],o))}return e}function ve(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){k.__e(o,n)}}function ze(e,t,n){var r,o;if(k.unmount&&k.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||ve(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){k.__e(s,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&ze(r[o],t,n||typeof e.type!="function");n||me(e.__e),e.__c=e.__=e.__e=void 0}function jt(e,t,n){return this.constructor(e,n)}function Je(e,t,n){var r,o,s,u;t==document&&(t=document.documentElement),k.__&&k.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,s=[],u=[],ye(t,e=(!r&&n||t).__k=Ft(se,null,[e]),o||z,z,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?re.call(t.childNodes):null,s,!r&&n?n:o?o.__e:t.firstChild,r,u),We(s,e,u)}re=Le.slice,k={__e:function(e,t,n,r){for(var o,s,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(l){e=l}throw e}},Me=0,Ut=function(e){return e!=null&&e.constructor==null},te.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=A({},this.state),typeof e=="function"&&(e=e(A({},n),this.props)),e&&A(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ne(this))},te.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ne(this))},te.prototype.render=se,L=[],He=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,je=function(e,t){return e.__v.__b-t.__v.__b},ne.__r=0,Oe=/(PointerCapture)$|Capture$/i,he=0,fe=Ae(!1),pe=Ae(!0),Dt=0;var ge,C,be,Ge,ke=0,rt=[],E=k,Ye=E.__b,Qe=E.__r,Xe=E.diffed,Ze=E.__c,et=E.unmount,tt=E.__;function Ot(e,t){E.__h&&E.__h(C,e,ke||t),ke=0;var n=C.__H||(C.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function M(e){return ke=1,Lt(ot,e)}function Lt(e,t,n){var r=Ot(ge++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ot(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],a=r.t(c,l);c!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=C,!C.__f)){var o=function(l,c,a){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(y){return!!y.__c});if(p.every(function(y){return!y.__N}))return!s||s.call(this,l,c,a);var i=r.__c.props!==l;return p.forEach(function(y){if(y.__N){var d=y.__[0];y.__=y.__N,y.__N=void 0,d!==y.__[0]&&(i=!0)}}),s&&s.call(this,l,c,a)||i};C.__f=!0;var s=C.shouldComponentUpdate,u=C.componentWillUpdate;C.componentWillUpdate=function(l,c,a){if(this.__e){var p=s;s=void 0,o(l,c,a),s=p}u&&u.call(this,l,c,a)},C.shouldComponentUpdate=o}return r.__N||r.__}function Vt(){for(var e;e=rt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ie),e.__H.__h.forEach(Se),e.__H.__h=[]}catch(t){e.__H.__h=[],E.__e(t,e.__v)}}E.__b=function(e){C=null,Ye&&Ye(e)},E.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),tt&&tt(e,t)},E.__r=function(e){Qe&&Qe(e),ge=0;var t=(C=e.__c).__H;t&&(be===C?(t.__h=[],C.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(ie),t.__h.forEach(Se),t.__h=[],ge=0)),be=C},E.diffed=function(e){Xe&&Xe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(rt.push(t)!==1&&Ge===E.requestAnimationFrame||((Ge=E.requestAnimationFrame)||qt)(Vt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),be=C=null},E.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ie),n.__h=n.__h.filter(function(r){return!r.__||Se(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],E.__e(r,n.__v)}}),Ze&&Ze(e,t)},E.unmount=function(e){et&&et(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ie(r)}catch(o){t=o}}),n.__H=void 0,t&&E.__e(t,n.__v))};var nt=typeof requestAnimationFrame=="function";function qt(e){var t,n=function(){clearTimeout(r),nt&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);nt&&(t=requestAnimationFrame(n))}function ie(e){var t=C,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),C=t}function Se(e){var t=C;e.__c=e.__(),C=t}function ot(e,t){return typeof t=="function"?t(e):t}var _=Ue(Te()),fn="$app:sku-custom-discount",pn="function-configuration",St=()=>X(null,null,function*(){Je((0,_.jsx)(dn,{}),document.body)});function dn(){let[e,t]=M({}),[n,r]=M(""),[o,s]=M(!1),[u,l]=M([]),[c,a]=M({}),[p,i]=M("percentage"),[y,d]=M(!1),x=()=>X(null,null,function*(){try{let f=yield shopify.resourcePicker({type:"product"});if(console.log("Selected products:",f),f&&f.length>0){let v={};f.forEach(h=>{var N,T,U,K,j,q;let S=`product_${h.id}`;v[S]={id:h.id,title:h.title,sku:((T=(N=h.variants)==null?void 0:N[0])==null?void 0:T.sku)||"",price:((K=(U=h.variants)==null?void 0:U[0])==null?void 0:K.price)||0,image:(q=(j=h.images)==null?void 0:j[0])==null?void 0:q.url,value:0,discountType:p}}),t(h=>R(R({},h),v))}}catch(f){console.error("Product picker error:",f)}}),$=()=>{try{l([]);let f=n.trim().split(`
`),v={},h=[],S=[];if(f.forEach((T,U)=>{let K=T.trim();if(!K)return;let j=K.split(/[\t,:\s]+/).filter(xt=>xt);if(j.length<2){S.push(`Line ${U+1}: Invalid format`);return}let q=j[0],Y=parseFloat(j[j.length-1]);q?isNaN(Y)?S.push(`Line ${U+1}: Invalid discount value`):Y<0?S.push(`Line ${U+1}: Discount cannot be negative`):p==="percentage"&&Y>100?S.push(`Line ${U+1}: Percentage must be 0-100%`):(v[q]=Y,h.push(q)):S.push(`Line ${U+1}: Missing SKU`)}),S.length>0){l(S);return}if(h.length===0){l(["No valid SKU-value pairs found"]);return}let N={};h.forEach(T=>{let U=`sku_${T}`;N[U]={id:U,title:`Product ${T}`,sku:T,price:0,value:v[T],discountType:p}}),t(T=>R(R({},T),N)),r(""),s(!1)}catch(f){console.error("Bulk import error:",f)}},w=(f,v)=>{let h=v.replace(/[^0-9.]/g,"");if(h===""||h==="."){t(N=>O(R({},N),{[f]:O(R({},N[f]),{value:0})}));return}let S=parseFloat(h);if(!isNaN(S)){let N=Math.min(Math.max(S,0),e[f].discountType==="percentage"?100:99999);t(T=>O(R({},T),{[f]:O(R({},T[f]),{value:N})}))}},b=(f,v)=>{t(h=>O(R({},h),{[f]:O(R({},h[f]),{discountType:v})}))},g=f=>{t(v=>{let h=R({},v);return delete h[f],h})},H=()=>{t({})},D=f=>X(null,null,function*(){console.log("Saving configuration:",e),f&&f.waitUntil&&f.waitUntil(fetch("app:save/metafield",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:fn,key:pn,value:JSON.stringify({products:e})})}))}),F=Object.entries(e),I=F.length,G=()=>{t(c),r(""),s(!1),l([])},V=f=>{let v=parseFloat(f.price)||100,h=parseFloat(f.value)||0;return f.discountType==="percentage"?(v*(1-h/100)).toFixed(2):Math.max(0,v-h).toFixed(2)};return y?(0,_.jsx)("s-spinner",{size:"small"}):(0,_.jsx)("s-admin-block",{title:"SKU Discount Configuration",children:(0,_.jsx)("s-function-settings",{children:(0,_.jsx)("s-form",{onSubmit:D,onReset:G,children:(0,_.jsxs)("s-stack",{gap:"large",children:[(0,_.jsx)("s-section",{children:(0,_.jsxs)("s-stack",{gap:"base",children:[(0,_.jsx)("s-heading",{children:"Product SKU Discount Manager"}),(0,_.jsxs)("s-stack",{direction:"inline",gap:"base",alignItems:"center",children:[I>0&&(0,_.jsxs)("s-badge",{tone:"success",children:[I," products configured"]}),u.length>0&&u.map((f,v)=>(0,_.jsx)("s-badge",{tone:f.includes("Platform Issue")?"critical":"warning",children:f},v))]})]})}),(0,_.jsx)("s-divider",{}),(0,_.jsx)("s-section",{children:(0,_.jsxs)("s-stack",{gap:"base",children:[(0,_.jsxs)("s-stack",{direction:"inline",gap:"base",alignItems:"center",justifyContent:"space-between",children:[(0,_.jsxs)("s-stack",{direction:"inline",gap:"base",children:[(0,_.jsxs)("s-button",{variant:"primary",onClick:x,children:[(0,_.jsx)("s-icon",{name:"ProductsMajor"}),"Select Products"]}),(0,_.jsxs)("s-button",{variant:"secondary",onClick:()=>s(!o),children:[(0,_.jsx)("s-icon",{name:"ImportMinor"}),"Bulk Import"]})]}),(0,_.jsxs)("s-stack",{direction:"inline",gap:"base",alignItems:"center",children:[(0,_.jsx)("s-text",{variant:"bodySm",tone:"subdued",children:"Default:"}),(0,_.jsx)("s-button",{variant:p==="percentage"?"primary":"secondary",size:"slim",onClick:()=>i("percentage"),children:"% off"}),(0,_.jsx)("s-button",{variant:p==="fixedAmount"?"primary":"secondary",size:"slim",onClick:()=>i("fixedAmount"),children:"$ off"})]})]}),o&&(0,_.jsx)("s-box",{padding:"base",border:"base",borderRadius:"base",children:(0,_.jsxs)("s-stack",{gap:"base",children:[(0,_.jsxs)("s-text",{variant:"bodySm",children:["Copy from Excel: SKU, discount value (",p==="percentage"?"%":"$",")"]}),(0,_.jsx)("s-text-area",{name:"bulkImport",value:n,onInput:f=>r(f.target.value),minRows:"6",placeholder:`SKU123	35
SKU456	40
SKU789	50`}),(0,_.jsxs)("s-stack",{direction:"inline",gap:"base",children:[(0,_.jsx)("s-button",{variant:"primary",onClick:$,children:"Import"}),(0,_.jsx)("s-button",{variant:"plain",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}),(0,_.jsx)("s-divider",{}),(0,_.jsx)("s-section",{children:(0,_.jsxs)("s-stack",{gap:"base",children:[(0,_.jsxs)("s-stack",{direction:"inline",alignItems:"center",justifyContent:"space-between",children:[(0,_.jsx)("s-text",{fontWeight:"semiBold",children:"Product List"}),I>0&&(0,_.jsxs)("s-button",{variant:"plain",tone:"critical",onClick:H,children:[(0,_.jsx)("s-icon",{name:"DeleteMinor"}),"Clear All"]})]}),F.length===0?(0,_.jsx)("s-banner",{children:(0,_.jsx)("s-text",{children:'No products added yet. Use "Select Products" or "Bulk Import" buttons.'})}):(0,_.jsxs)("s-table",{variant:"auto",children:[(0,_.jsxs)("s-table-header-row",{children:[(0,_.jsx)("s-table-header",{listSlot:"primary",children:"Product"}),(0,_.jsx)("s-table-header",{listSlot:"labeled",children:"SKU"}),(0,_.jsx)("s-table-header",{listSlot:"labeled",children:"Price"}),(0,_.jsx)("s-table-header",{listSlot:"labeled",children:"Type"}),(0,_.jsx)("s-table-header",{listSlot:"labeled",children:"Discount"}),(0,_.jsx)("s-table-header",{listSlot:"secondary",children:"Final Price"}),(0,_.jsx)("s-table-header",{children:"Actions"})]}),(0,_.jsx)("s-table-body",{children:F.map(([f,v])=>{var h;return(0,_.jsxs)("s-table-row",{children:[(0,_.jsx)("s-table-cell",{children:(0,_.jsxs)("s-stack",{direction:"inline",gap:"tight",alignItems:"center",children:[v.image&&(0,_.jsx)("s-thumbnail",{source:v.image,alt:v.title,size:"small"}),(0,_.jsx)("s-text",{variant:"bodySm",truncate:"1",children:v.title})]})}),(0,_.jsx)("s-table-cell",{children:v.sku||"\u2014"}),(0,_.jsx)("s-table-cell",{children:(0,_.jsxs)("s-badge",{tone:"info",children:["$",parseFloat(v.price||100).toFixed(2)]})}),(0,_.jsx)("s-table-cell",{children:(0,_.jsxs)("s-select",{name:`type-${f}`,value:v.discountType,onChange:S=>b(f,S.target.value),children:[(0,_.jsx)("option",{value:"percentage",children:"%"}),(0,_.jsx)("option",{value:"fixedAmount",children:"$"})]})}),(0,_.jsx)("s-table-cell",{children:(0,_.jsx)("s-number-field",{name:`discount-${f}`,value:((h=v.value)==null?void 0:h.toString())||"0",defaultValue:"0",onInput:S=>w(f,S.target.value),prefix:v.discountType==="fixedAmount"?"$":"",suffix:v.discountType==="percentage"?"%":"",min:"0",max:v.discountType==="percentage"?"100":""})}),(0,_.jsx)("s-table-cell",{children:(0,_.jsxs)("s-badge",{tone:"success",children:["$",V(v)]})}),(0,_.jsx)("s-table-cell",{children:(0,_.jsx)("s-button",{variant:"plain",tone:"critical",onClick:()=>g(f),children:(0,_.jsx)("s-icon",{name:"CancelMinor"})})})]},f)})})]})]})}),(0,_.jsx)("s-section",{children:(0,_.jsxs)("s-stack",{gap:"base",children:[(0,_.jsx)("s-heading",{size:"small",children:"Summary"}),(0,_.jsxs)("s-grid",{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"base",children:[(0,_.jsx)("s-grid-item",{children:(0,_.jsx)("s-box",{padding:"base",border:"base",borderRadius:"base",children:(0,_.jsxs)("s-stack",{gap:"tight",children:[(0,_.jsx)("s-text",{variant:"bodySm",tone:"subdued",children:"Total Products"}),(0,_.jsx)("s-text",{variant:"headingMd",children:I})]})})}),(0,_.jsx)("s-grid-item",{children:(0,_.jsx)("s-box",{padding:"base",border:"base",borderRadius:"base",children:(0,_.jsxs)("s-stack",{gap:"tight",children:[(0,_.jsx)("s-text",{variant:"bodySm",tone:"subdued",children:"Average Discount"}),(0,_.jsxs)("s-text",{variant:"headingMd",children:[I>0?(F.reduce((f,[v,h])=>f+parseFloat(h.value||0),0)/I).toFixed(1):0,"%"]})]})})}),(0,_.jsx)("s-grid-item",{gridColumn:"span 2",children:(0,_.jsx)("s-box",{padding:"base",border:"base",borderRadius:"base",children:(0,_.jsx)("s-query-container",{children:(0,_.jsxs)("s-stack",{direction:"@container (inline-size > 400px) inline, block",gap:"base",alignItems:"center",children:[(0,_.jsx)("s-text",{variant:"bodySm",tone:"subdued",children:"Discounts applied based on SKU when available"}),(0,_.jsx)("s-badge",{tone:"success",children:"Active"})]})})})})]})]})})]})})})})}shopify.extend("admin.discount-details.function-settings.render",(...e)=>St(...e));})();
//# sourceMappingURL=discount-function-settings.js.map
